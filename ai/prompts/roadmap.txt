Generate a transformation roadmap with a 30-60-90 day plan aligned to the Cloud Adoption Framework and the 8 official Azure Landing Zone design areas.

The assessment has already identified failing and partial controls, each mapped to
canonical ALZ review-checklist IDs (e.g. A01.01, B02.03). Your job is to:
  1. Cluster the failing/partial controls into a dependency-ordered roadmap
  2. Generate a 30-60-90 day plan using checklist_id as the canonical identifier
  3. Identify top risks, parallel execution groups, and a dependency graph

Official ALZ Design Areas (map every roadmap entry to one of these):
  1. Azure Billing and Microsoft Entra ID Tenants
  2. Identity and Access Management
  3. Network Topology and Connectivity
  4. Security
  5. Management
  6. Resource Organization
  7. Platform Automation and DevOps
  8. Governance

Return ONLY valid JSON matching this schema:

{
  "executive_summary": "...",
  "transformation_progress": {
    "maturity_change": "...",
    "key_improvements": ["..."],
    "regressions": ["..."],
    "reprioritized_items": ["..."]
  },
  "roadmap_30_60_90": {
    "30_days": [
      {
        "action": "...",
        "checklist_id": "A01.01",
        "caf_discipline": "Govern | Secure | Manage | Ready | Adopt",
        "dependency_on": [],
        "success_criteria": "...",
        "owner_role": "..."
      }
    ],
    "60_days": [ { "action": "...", "checklist_id": "B02.03", "caf_discipline": "...", "dependency_on": ["A01.01"], "success_criteria": "...", "owner_role": "..." } ],
    "90_days": [ { "action": "...", "checklist_id": "C01.12", "caf_discipline": "...", "dependency_on": ["B02.03"], "success_criteria": "...", "owner_role": "..." } ]
  },
  "parallel_execution_groups": [
    ["A01.01", "A01.02"],
    ["B02.03"]
  ],
  "top_risks": [
    {
      "title": "...",
      "business_impact": "...",
      "technical_cause": "...",
      "checklist_id": "A01.01",
      "alz_design_area": "One of the 8 official ALZ design areas"
    }
  ],
  "remediation_plan": [
    {
      "checklist_id": "A01.01",
      "title": "...",
      "priority": 1,
      "blast_radius": "High|Medium|Low",
      "caf_discipline": "Govern",
      "alz_design_area": "One of the 8 official ALZ design areas",
      "why_it_matters": "...",
      "success_criteria": "...",
      "controls": ["control_id"],
      "dependencies": ["B02.03"],
      "permission_requirements": ["..."],
      "owner_role": "...",
      "delivery_model": {
        "estimated_duration": "...",
        "team": ["Platform Engineering", "Security"],
        "change_scope": "Tenant | ManagementGroup | Subscription"
      },
      "capability_unlocked": "What platform capability becomes available when this item completes (e.g. 'Centralized egress control enables secure spoke deployment')"
    }
  ],
  "backlog": {
    "epics": [
      {
        "epic_id": "EPIC-001",
        "title": "...",
        "checklist_id": "A01.01",
        "capabilities": [
          {
            "capability": "...",
            "features": ["..."]
          }
        ]
      }
    ]
  },
  "maturity_trajectory": {
    "current_maturity_percent": 0,
    "projected_30_day_percent": 0,
    "projected_60_day_percent": 0,
    "projected_90_day_percent": 0,
    "assumptions": ["..."]
  },
  "dependency_graph": [
    {
      "action": "...",
      "checklist_id": "A01.01",
      "depends_on": ["B02.03"],
      "phase": "30_days | 60_days | 90_days"
    }
  ],
  "critical_path": ["action that blocks everything else"]
}

CRITICAL: Use the checklist_id from the ALZ review-checklists (e.g. A01.01, B02.03).
Do NOT generate synthetic IDs like INIT-001. The checklist_id is the canonical identifier.
Use depends_on arrays with checklist_id references, not free-text action strings.

Write outcomes, not tasks.
Actions must begin with a measurable platform outcome.
Never start with Enable, Deploy, Create, Configure.
Do NOT say: "Deploy Azure Firewall"
Instead say: "Establish centralized egress control and east-west traffic inspection for all landing zones"

If management_group_hierarchy is provided:
- Use it to determine whether the platform MG structure already exists
- Check whether subscriptions are correctly placed under their parent MGs
- If platform/connectivity/identity MGs exist:
  Focus on policy inheritance, RBAC model, subscription placement, landing zone onboarding
  Do NOT recommend creating MGs that already exist
- If platform MGs are missing:
  Focus on MG creation as a prerequisite before onboarding
- If a MG exists but has no children / subscriptions:
  Prioritize subscription placement and workload migration over structural changes
- Always reference the actual hierarchy in your reasoning

Sequencing rules from signals:
- Missing platform MG → 30_days: establish MG structure (Govern)
- Policy compliance below 50% → 30_days: policy baseline (Govern)
- Diagnostics coverage below 30% → 30_days: central logging (Manage)
- No hub-spoke detected → 60_days: network topology (Ready)
- Defender coverage partial → 60_days: security baseline (Secure)
- Identity logs not centralized → 90_days: identity integration (Secure)
- No budgets or cost alerts → 30_days: cost governance (Govern) — prevents runaway spend during transformation
- PIM not active → 60_days: establish least-privilege model before expanding access
- Workspace not centralized → 30_days: must precede Sentinel and log-dependent controls
- Update Manager not configured → 60_days: patch posture (Manage)
- Network Watcher flow logs missing → 60_days: network observability (Ready)
- High manual write ratio in activity log → 60_days: IaC adoption (Adopt)

Conflict detection rules:
- If diagnostics coverage says OK but workspace topology says no centralized workspace → flag conflict, prioritize workspace topology
- If PIM events detected but Entra logs say "not forwarded" → flag conflict, note PIM data may be incomplete
- If cost_management has budgets but no notifications → partial, not full pass

Blast radius rules:
- Governance / MG / Policy / Logging = High
- Cross-domain impact = High
- Subscription-only issues = Medium
- Advisory-only = Low

Use execution_context to validate feasibility:
- management_group_access false → MG changes require tenant-root elevation (dependency)
- subscription_count_visible is 1 → sequence platform first, expand later
- identity_type is user → note assessment reflects user-scoped visibility

For each item, populate dependencies and permission_requirements.
Group independent items into parallel_execution_groups.
Items with unmet dependencies must not share a group with their prerequisite.

If delta is provided:
- Compare previous and current maturity and section scores
- Describe progress, stagnation, and regression
- Adjust item priorities accordingly
- Call out partially or fully completed items

For maturity_trajectory:
- Use overall_maturity as base
- Estimate projected % at 30/60/90 days assuming the roadmap is executed
- List key assumptions

For backlog:
- Map each item to an epic
- Break each epic into capabilities and features suitable for Azure DevOps / GitHub Projects

Assessment Data:
{{PAYLOAD}}

IMPORTANT: This pass identifies WHAT to do and in what ORDER.
Do NOT select specific ALZ implementation patterns or Bicep modules here —
that is handled by the separate Implementation Decision pass.
Focus on clustering, sequencing, capability unlocks, and dependency ordering.